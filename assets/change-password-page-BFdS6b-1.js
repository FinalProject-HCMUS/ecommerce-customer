import{u as p,r as w,j as e}from"./index-DqUOqSxb.js";import{u as b}from"./user-gVo-qvwJ.js";import{d as g,a as r}from"./App-xiYN4thl.js";import{s as j,a as o}from"./request-BN0nrF5y.js";import{P as l}from"./PasswordInput-pT5cfZvB.js";import{G as v}from"./Button-DO1jXJuc.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=g("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),E=()=>{const{userInfo:t}=p(s=>s.auth),{changePassword:m,loading:u}=b(),[a,c]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,f]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),d=s=>{const{name:n,value:x}=s.target;c({...a,[n]:x}),i[n]&&f({...i,[n]:""})},P=()=>{let s=!0;return a.currentPassword.trim()||(o(r("error.currentPasswordRequired")),s=!1),a.newPassword.trim()?a.newPassword.length<8&&(o(r("error.passwordLength")),s=!1):(o(r("error.newPasswordRequired")),s=!1),a.confirmPassword.trim()?a.newPassword!==a.confirmPassword&&(o(r("error.passwordMismatch")),s=!1):(o(r("error.confirmPasswordRequired")),s=!1),s},h=async s=>{if(s.preventDefault(),!P()||!(t!=null&&t.id))return;await m(t.id,a)&&(j(r("success.passwordChanged")),c({currentPassword:"",newPassword:"",confirmPassword:""}))};return e.jsxs("div",{className:"max-w-md w-full mx-auto my-5",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(y,{className:"h-6 w-6 text-blue-600"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r("lbl.changePassword")})]}),e.jsxs("form",{onSubmit:h,children:[e.jsx(l,{id:"currentPassword",name:"currentPassword",label:r("lbl.currentPassword"),value:a.currentPassword,onChange:d,placeholder:r("placeholder.currentPassword"),required:!0}),e.jsx(l,{id:"newPassword",name:"newPassword",label:r("lbl.newPassword"),value:a.newPassword,onChange:d,placeholder:r("placeholder.newPassword"),required:!0}),e.jsx(l,{id:"confirmPassword",name:"confirmPassword",label:r("lbl.confirmPassword"),value:a.confirmPassword,onChange:d,placeholder:r("placeholder.confirmPassword"),required:!0}),e.jsx("div",{className:"mt-6",children:e.jsx(v,{type:"submit",variant:"primary",size:"md",isLoading:u,className:"w-full rounded-[10px]",children:r("btn.changePassword")})})]})]})};export{E as default};
