import{j as e,r as m}from"./index-D05w7RTC.js";import{e as j}from"./common-DGxg2YYd.js";import{a as l,u as y,I as N}from"./App-4Od_FrKz.js";import{f as o}from"./string-msUNxrnf.js";import{G as g}from"./Button-DpK4s1vH.js";import{B as v}from"./Breadcrumb-DFXllJyQ.js";const w=({formData:t,onInputChange:n,onPaymentMethodChange:c,onSubmit:d})=>e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:l("lbl.shippingInformation")}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:l("lbl.receiverName")}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,className:"w-full p-3 border border-gray-300 rounded-[12px] focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:l("lbl.receiverPhone")}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:n,className:"w-full p-3 border border-gray-300 rounded-[12px] focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:l("lbl.receiverAddress")}),e.jsx("input",{type:"text",id:"address",name:"address",value:t.address,onChange:n,className:"w-full p-3 border border-gray-300 rounded-[12px] focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:l("lbl.paymentMethod")}),e.jsx("div",{className:"space-y-3",children:j.map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:a.id,name:"paymentMethod",value:a.id,checked:t.paymentMethod===a.id,onChange:()=>c(a.id),className:"h-5 w-5 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:a.id,className:"ml-3 text-base font-medium text-gray-700",children:a.label})]},a.id))})]})]}),k=({items:t,summary:n,handlePayment:c})=>{const{subtotal:d,deliveryFee:a,total:i}=n;return e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:l("lbl.orderSummary")}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsxs("div",{className:"py-4 flex",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:s.product.mainImageUrl,alt:s.product.name,className:"h-full w-full object-cover object-center"})}),e.jsx("div",{className:"ml-4 flex flex-1 flex-col",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[e.jsx("h3",{children:s.product.name}),e.jsx("p",{className:"ml-4",children:o(s.product.price*(100-s.product.discountPercent)/100*s.quantity,"VND")})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:`${l("lbl.quantity")}: ${s.quantity}`}),s.color&&e.jsxs("p",{className:"mt-1 text-sm text-gray-500 flex items-center",children:[l("lbl.color"),":"," ",e.jsx("span",{className:"ml-1 inline-block w-3 h-3 rounded-full",style:{backgroundColor:s.color}})]}),s.size&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:`${l("lbl.size")}: ${s.size}`})]})})]},s.id))}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600",children:l("lbl.subTotal")}),e.jsx("p",{className:"font-medium",children:o(d,"VND")})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[e.jsx("p",{className:"text-gray-600",children:l("lbl.deliveryFee")}),e.jsx("p",{className:"font-medium",children:o(a,"VND")})]}),e.jsxs("div",{className:"flex justify-between text-base font-medium mt-4",children:[e.jsx("p",{children:l("lbl.total")}),e.jsx("p",{children:o(i,"VND")})]})]}),e.jsx(g,{type:"submit",onClick:c,className:"w-full mt-6 bg-black text-white py-4 px-6 rounded-full font-medium hover:bg-gray-800 transition-colors",children:l("lbl.makePayment")})]})};function q(){const t=y(),n=N(),[c,d]=m.useState([]),[a,i]=m.useState({subtotal:0,deliveryFee:0,total:0}),[s,x]=m.useState({name:"",phone:"",address:"",paymentMethod:""});m.useEffect(()=>{const r=t.state;if(!r||!r.selectedCartItems||r.selectedCartItems.length===0){n("/cart");return}d(r.selectedCartItems),i(r.orderSummary)},[t,n]);const h=r=>{const{name:p,value:f}=r.target;x({...s,[p]:f})},b=r=>{x({...s,paymentMethod:r})},u=()=>{console.log("Form submitted:",s),console.log("Selected items:",c),console.log("Order summary:",a)};return e.jsx("div",{className:"min-h-screen mt-10 mx-8 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx(v,{items:[{label:l("breadcrumb.home"),path:"/"},{label:l("breadcrumb.cart"),path:"/cart"},{label:l("breadcrumb.checkout"),path:"/checkout"}]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(w,{formData:s,onInputChange:h,onPaymentMethodChange:b,onSubmit:u})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx("div",{className:"bg-gray-100 rounded-[12px] p-6",children:e.jsx(k,{items:c,summary:a,handlePayment:u})})})]})]})})}export{q as default};
