import{r as i,j as e}from"./index-Cix6GTrn.js";import{u as d}from"./user-BcPWiVmc.js";import{u as x,a as s,L as o}from"./App-Dk_tdKar.js";import{C as f}from"./circle-check-big-CfW63oYq.js";import{C as u}from"./circle-x-0YXcS02B.js";import"./request-9eYOFU4_.js";const y=()=>{const[a,t]=i.useState("loading"),{confirmUserEmail:n,loading:m}=d(),r=x();return i.useEffect(()=>{(async()=>{const l=new URLSearchParams(r.search).get("token");if(!l){t("error");return}const c=await n(l);t(c?"success":"error")})()},[r.search]),e.jsxs("div",{className:"max-w-md w-full mx-auto p-6",children:[(m||a==="loading")&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),e.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:s("lbl.verifyingEmail")}),e.jsx("p",{className:"mt-2 text-gray-600",children:s("lbl.pleaseWait")})]}),a==="success"&&e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"mx-auto h-12 w-12 text-green-500"}),e.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:s("lbl.emailConfirmed")}),e.jsx("div",{className:"mt-6",children:e.jsx(o,{to:"/login",className:"w-full",children:s("lbl.proceedToLogin")})})]}),a==="error"&&e.jsxs("div",{className:"text-center",children:[e.jsx(u,{className:"mx-auto h-12 w-12 text-red-500"}),e.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:s("lbl.emailConfirmationFailed")}),e.jsx("p",{className:"mt-2 text-gray-600",children:s("lbl.emailConfirmationFailedDescription")}),e.jsx("div",{className:"mt-6 space-y-3",children:e.jsx(o,{to:"/login",className:"w-full",children:s("lbl.requestNewConfirmation")})})]})]})};export{y as default};
