import{r as i,j as e}from"./index-BNwsvz7n.js";import{u as b}from"./user-Al6i1GsK.js";import{G as o}from"./Button-0gAQD3u-.js";import{I as f,a as s,L as g}from"./App-BYdKK9mZ.js";import{s as j,a as w}from"./request-e3nKrsW6.js";import{B as v}from"./Breadcrumb-otmzcjHB.js";const q=()=>{const n=f(),{requestPasswordReset:d,loading:m}=b(),[t,c]=i.useState(""),[u,x]=i.useState(!1),[a,r]=i.useState(""),h=l=>{c(l.target.value),r("")},p=async l=>{if(l.preventDefault(),!t.trim()){r(s("auth.emailRequired"));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){r(s("auth.invalidEmail"));return}await d(t)?(x(!0),j(s("auth.resetEmailSent"))):w(s("auth.resetEmailFailed"))};return e.jsxs("div",{className:"max-w-7xl mx-auto mt-10 px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(v,{items:[{label:s("breadcrumb.home"),path:"/"},{label:s("breadcrumb.login"),path:"/login"},{label:s("breadcrumb.forgotPassword"),path:"/request-password-reset"}]}),e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:s("auth.resetPassword")})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-[12px] sm:px-10",children:u?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"rounded-full bg-green-100 p-3 mx-auto w-16 h-16 flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:s("auth.checkYourEmail")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s("auth.resetEmailInstructions")}),e.jsx("div",{className:"mt-6",children:e.jsx(o,{type:"button",variant:"outline",className:"w-full rounded-[10px]",onClick:()=>n("/login"),children:s("auth.backToLogin")})})]}):e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:s("auth.email")}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:h,className:`appearance-none block w-full px-3 py-2 border ${a?"border-red-300":"border-gray-300"} rounded-[10px] shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:s("auth.enterYourEmail")}),a&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a})]})]}),e.jsx("div",{children:e.jsx(o,{type:"submit",variant:"primary",className:"w-full rounded-[10px]",disabled:m,children:m?s("lbl.loading"):s("auth.sendResetLink")})}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"text-sm",children:e.jsx(g,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:s("auth.backToLogin")})})})]})})})]})};export{q as default};
