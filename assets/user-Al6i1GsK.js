import{r as l}from"./index-BNwsvz7n.js";import{c as r}from"./request-e3nKrsW6.js";const o="/users",c={getUserById:async s=>(await r.get(`${o}/${s}`)).data,getUserByToken:async()=>(await r.get(`${o}/me`)).data,createUser:async s=>(await r.post(o,s)).data,updateUser:async(s,e)=>(await r.put(`${o}/${s}`,e)).data,changePassword:async(s,e)=>(await r.post(`${o}/${s}/change-password`,e)).data,requestPasswordReset:async s=>(await r.post(`${o}/request-password-reset?email=${encodeURIComponent(s)}`)).data,resetPassword:async s=>(await r.post(`${o}/reset-password`,s)).data},E=async s=>(await r.post("/auth/login",s)).data,R=async s=>(await r.post("/auth/refresh-token",s)).data,I=async s=>(await r.post("/auth/logout",s)).data,S=async s=>(await r.post("/auth/validate-token",null,{headers:{Authorization:s}})).data,i=async s=>(await r.post(`/users/confirm-email?token=${encodeURIComponent(s)}`,null)).data,p=async s=>(await r.post(`/users/resend-confirmation?email=${encodeURIComponent(s)}`,null)).data,C=async s=>(await r.post(`/auth/outbound/authentication?code=${s}`,null)).data,T=()=>{const[s,e]=l.useState(null),[u,t]=l.useState(!1);return{user:s,loading:u,fetchUserById:async n=>{t(!0);try{const a=await c.getUserById(n);return e(a.data||null),a.data||null}catch{return null}finally{t(!1)}},createUser:async n=>{t(!0);try{return(await c.createUser(n)).data||null}catch{return null}finally{t(!1)}},updateUser:async(n,a)=>{try{return(await c.updateUser(n,a)).data||null}catch{return null}},changePassword:async(n,a)=>{t(!0);try{return await c.changePassword(n,a),!0}catch{return!1}finally{t(!1)}},fetchUserByToken:async()=>{t(!0);try{return(await c.getUserByToken()).data||null}finally{t(!1)}},confirmUserEmail:async n=>{t(!0);try{return(await i(n)).isSuccess}catch{return!1}finally{t(!1)}},resendUserConfirmationEmail:async n=>{t(!0);try{return(await p(n)).isSuccess}catch{return!1}finally{t(!1)}},requestPasswordReset:async n=>{t(!0);try{return(await c.requestPasswordReset(n)).isSuccess}catch{return!1}finally{t(!1)}},resetPassword:async n=>{t(!0);try{return(await c.resetPassword(n)).isSuccess}catch{return!1}finally{t(!1)}}}};export{I as a,E as l,C as o,R as r,T as u,S as v};
